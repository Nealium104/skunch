---
import Layout from "../layouts/Layout.astro"
---
<Layout>
  <form class="mt-10 md:mt-0 flex flex-col w-full gap-4 p-8 mx-auto border-2 md:w-1/3 border-red" name="contact" id="contact" method="POST" action="/.netlify/functions/sendgrid" data-netlify="true">
    <h1 class="text-4xl font-bangers">Contact Skunch</h1>
    <div class="flex flex-col">
      <span>Name:</span>
      <label for="name">
        <input class="w-full px-4" name="name" id="name" type="text">
      </label>
    </div>
    <div class="flex flex-col">
      <span>Email:</span>
      <label for="email">
        <input class="w-full px-4" name="email" id="email" type="email">
      </label>
    </div>
    <div class="flex flex-col">
      <span>Subject:</span>
      <label for="subject">
        <input class="w-full px-4" name="subject" id="subject" type="text">
      </label>
    </div>
    <div class="flex flex-col">
      <span>Message</span>
      <label for="message">
        <textarea class="w-full px-4" name="message" id="message" cols="30" rows="4"></textarea>
      </label>
    </div>
    <div data-netlify-recaptcha="true"></div>
    <button class="bg-red rounded-xl py-2 px-4 w-32 mx-auto" type="submit">submit</button>
  </form>
</Layout>

// <script>
//   document.addEventListener('DOMContentLoaded', () => {
//     let contactForm = document.getElementById("contact");
//     contactForm.addEventListener("submit", async (e) => {
//       e.preventDefault();
//       let response = await fetch('/.netlify/functions/sendgrid', {
//         method: 'POST',
//         body: new FormData(contactForm),
//       });
//       let result = await response.json();
//       console.log(result);
//       // Handle the response, e.g., show a success or error message.
//     });
//   });
// </script>